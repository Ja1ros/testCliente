{"ast":null,"code":"import { Router } from \"@angular/router\";\nimport { ToastrService } from \"ngx-toastr\";\nimport { AuthService } from \"../Services/auth.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../Services/auth.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\n\nfunction LoginComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"span\", 26);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(router, auth, toastr) {\n      this.router = router;\n      this.auth = auth;\n      this.toastr = toastr;\n      this.loading = false;\n      this.credenciales = {\n        username: \"\",\n        password: \"\"\n      };\n    }\n\n    ngOnInit() {}\n\n    showNotification(from, align, color, message) {\n      switch (color) {\n        case 1:\n          this.toastr.info(`<span data-notify=\"icon\" class=\"nc-icon nc-bell-55\"></span><span data-notify=\"message\"> ${message}</span>`, \"\", {\n            timeOut: 4000,\n            closeButton: true,\n            enableHtml: true,\n            toastClass: \"alert alert-info alert-with-icon\",\n            positionClass: \"toast-\" + from + \"-\" + align\n          });\n          break;\n\n        case 2:\n          this.toastr.success(`<span data-notify=\"icon\" class=\"nc-icon nc-bell-55\"></span><span data-notify=\"message\">${message}</span>`, \"\", {\n            timeOut: 4000,\n            closeButton: true,\n            enableHtml: true,\n            toastClass: \"alert alert-success alert-with-icon\",\n            positionClass: \"toast-\" + from + \"-\" + align\n          });\n          break;\n\n        case 3:\n          this.toastr.warning(`<span data-notify=\"icon\" class=\"nc-icon nc-bell-55\"></span><span data-notify=\"message\"> ${message}</span>`, \"\", {\n            timeOut: 4000,\n            closeButton: true,\n            enableHtml: true,\n            toastClass: \"alert alert-warning alert-with-icon\",\n            positionClass: \"toast-\" + from + \"-\" + align\n          });\n          break;\n\n        case 4:\n          this.toastr.error(`<span data-notify=\"icon\" class=\"nc-icon nc-bell-55\"></span><span data-notify=\"message\"> ${message}</span>`, \"\", {\n            timeOut: 4000,\n            enableHtml: true,\n            closeButton: true,\n            toastClass: \"alert alert-danger alert-with-icon\",\n            positionClass: \"toast-\" + from + \"-\" + align\n          });\n          break;\n\n        case 5:\n          this.toastr.show(`<span data-notify=\"icon\" class=\"nc-icon nc-bell-55\"></span><span data-notify=\"message\"> ${message}</span>`, \"\", {\n            timeOut: 4000,\n            closeButton: true,\n            enableHtml: true,\n            toastClass: \"alert alert-primary alert-with-icon\",\n            positionClass: \"toast-\" + from + \"-\" + align\n          });\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    login() {\n      this.loading = true;\n      this.auth.Login(this.credenciales).subscribe(data => {\n        const usuario = data.data.user;\n        const token = data.data.token;\n        localStorage.setItem('miperfil', JSON.stringify(usuario));\n        localStorage.setItem('token', JSON.stringify(token));\n        localStorage.setItem('rol', JSON.stringify(usuario.RollName));\n        localStorage.setItem('usuario', JSON.stringify(usuario.userName));\n        this.router.navigateByUrl('/dashboard');\n        this.loading = false;\n      }, err => {\n        if (err[\"error\"].errors != undefined) {\n          let msg = \"\";\n          let cant = err[\"error\"].errors.length;\n\n          for (let index = 0; index < cant; index++) {\n            const element = err[\"error\"].errors[index];\n\n            if (index + 1 == cant) {\n              msg += element.msg;\n            } else {\n              msg += element.msg + \", \";\n            }\n          }\n\n          this.showNotification(\"top\", \"center\", 4, msg);\n        } else {\n          let er = err[\"error\"];\n          this.showNotification(\"top\", \"center\", 4, er.msg);\n        }\n\n        this.loading = false;\n      });\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ToastrService));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 47,\n    vars: 3,\n    consts: [[1, \"login-container\"], [1, \"col-dos\"], [1, \"card-pf\"], [1, \"login-pf-header\"], [\"src\", \"/assets/img/search.png\", \"alt\", \"Imagen de inicio de sesi\\u00F3n\", \"width\", \"135\"], [1, \"subTitle\"], [1, \"textParagraph\"], [\"id\", \"kc-content\"], [\"id\", \"kc-content-wrapper\"], [\"id\", \"kc-form\"], [\"id\", \"kc-form-wrapper\"], [\"id\", \"kc-form-login\", \"onsubmit\", \"login.disabled = true; return true;\"], [1, \"form-group\"], [1, \"labelsForm\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"required\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"required\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"kc-form-options\"], [1, \"checkbox\"], [1, \"rem\"], [\"tabindex\", \"3\", \"id\", \"rememberMe\", \"name\", \"rememberMe\", \"type\", \"checkbox\"], [\"enabled\", \"\", \"tabindex\", \"4\", \"name\", \"login\", \"onclick\", \"showmodal()\", \"id\", \"kc-login\", \"type\", \"submit\", \"value\", \"Ingresar\", 1, \"btnLogin\", 3, \"click\"], [\"class\", \"loading-animation\", 4, \"ngIf\"], [1, \"alignArrow\"], [1, \"msgFooter\"], [1, \"loading-animation\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-light\"], [1, \"sr-only\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\")(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"header\", 3);\n        i0.ɵɵelement(5, \"img\", 4)(6, \"br\")(7, \"br\");\n        i0.ɵɵelementStart(8, \"h2\", 5);\n        i0.ɵɵtext(9, \"Mis productos \");\n        i0.ɵɵelementStart(10, \"span\");\n        i0.ɵɵtext(11, \"Favoritos\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"p\", 6);\n        i0.ɵɵtext(13, \"facilitando la colaboraci\\u00F3n y comunicaci\\u00F3n en nuestro trabajo diario.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 7)(15, \"div\", 8)(16, \"div\", 9)(17, \"div\", 10)(18, \"form\", 11)(19, \"div\", 12)(20, \"h3\", 13);\n        i0.ɵɵtext(21, \" Usuario \");\n        i0.ɵɵelement(22, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_23_listener($event) {\n          return ctx.credenciales.username = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"div\", 12)(25, \"h3\", 13);\n        i0.ɵɵtext(26, \" Contrase\\u00F1a \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_27_listener($event) {\n          return ctx.credenciales.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 16)(30, \"div\", 17)(31, \"label\", 18);\n        i0.ɵɵelement(32, \"input\", 19);\n        i0.ɵɵtext(33, \" Recordarme \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(34, \"br\")(35, \"br\");\n        i0.ɵɵelementStart(36, \"div\")(37, \"input\", 20);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_input_click_37_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(38, \"br\")(39, \"br\");\n        i0.ɵɵtemplate(40, LoginComponent_div_40_Template, 4, 0, \"div\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(41, \"div\", 22);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(42, \"br\")(43, \"br\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(44, \"div\", 23)(45, \"span\");\n        i0.ɵɵtext(46, \"Todos Los Derechos Reservados \\u00A9. Ja1ros\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(23);\n        i0.ɵɵproperty(\"ngModel\", ctx.credenciales.username);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.credenciales.password);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      }\n    },\n    dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n    styles: [\"@charset \\\"UTF-8\\\";*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background:#ecf0f3}h1[_ngcontent-%COMP%]{margin:0;padding:0}.custom-form[_ngcontent-%COMP%]{min-width:300px;max-width:60%;background:rgba(255,255,255,.15);padding:2rem 3rem;margin:auto;border-radius:2.5rem;background-color:#eee;box-shadow:13px 13px 20px #cbced1,-13px -13px 20px #fff;color:#000;margin-top:10rem}.custom-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;margin:2rem 0;width:100%;border-radius:.5rem;padding:1rem;border:none;box-shadow:inset -5px -5px 15px #fffc,inset 5px 5px 10px #0000001a;border:0 none;background:#fafbfc}.custom-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.15em;border:none;font-size:.875rem;color:#fff;font-weight:700;background-color:#636e65;width:100%;display:block;padding:.875rem 1rem;border-radius:1.5rem;box-shadow:3px 3px 8px #b1b1b1,-3px -3px 8px #fff;cursor:pointer}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-image:url(/assets/img/login.jpg);background-size:cover;background-repeat:no-repeat;background-attachment:fixed;margin:0;padding:0;display:flex;justify-content:center;align-items:center;height:110vh}.login-container[_ngcontent-%COMP%]{background-color:#414042;border-radius:8px;box-shadow:0 0 10px #0000001a;padding:20px;width:300px;text-align:center;color:#fff;text-decoration-color:#fff;font-family:BarlowSemiCondensed}.subTitle[_ngcontent-%COMP%]{margin-top:-10px;text-align:center;font-weight:800!important;font-size:22px;font-family:Poppins ExtraBold}.subTitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e7272c}.textParagraph[_ngcontent-%COMP%]{font-size:14px;text-align:center;padding:0 28px;line-height:1.2;font-family:BarlowSemiCondensed Regular}.login-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:4px}.alignArrow[_ngcontent-%COMP%]{line-height:1.66666667;text-align:center;box-sizing:border-box;background-color:transparent;text-decoration:none;color:#fff;font-size:14px;font-family:BarlowSemiCondensed Medium}.form-button[_ngcontent-%COMP%]:hover{background-color:#ccc}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;height:100vh}.msgFooter[_ngcontent-%COMP%]{font-family:BarlowSemiCondensed Regular;font-size:12px;color:#d1d3d4;box-sizing:border-box}.btnLogin[_ngcontent-%COMP%]{color:#fff;background:#e7272c;border:none;border-radius:5px;padding:4px 0;box-shadow:none;margin-bottom:10px;text-shadow:none;outline:none;font-weight:800;font-size:12px;width:50%!important;text-transform:uppercase;font-family:BarlowSemiCondensed Bold}.labelsForm[_ngcontent-%COMP%]{color:#fff;font-size:8px;text-transform:uppercase;margin-bottom:2px;margin-top:0;font-family:BarlowSemiCondensed Regular;font-size:14px}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}